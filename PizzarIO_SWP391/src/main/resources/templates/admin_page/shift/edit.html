<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Edit StaffShift</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #fff;
      color: #000;
      margin: 0;
      padding: 20px;
    }

    h1 {
      text-align: center;
      margin-bottom: 20px;
    }

    .container {
      display: flex;
      justify-content: center;
    }

    .card {
      background: #fff;
      border: 1px solid #ddd;
      border-radius: 12px;
      padding: 20px 30px;
      width: 480px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }

    .error {
      color: #b00020;
      margin-bottom: 15px;
      font-weight: bold;
    }

    .form-row {
      margin-bottom: 15px;
      display: flex;
      flex-direction: column;
    }

    label {
      margin-bottom: 5px;
      font-weight: bold;
    }

    input, select {
      padding: 8px 10px;
      border: 1px solid #aaa;
      border-radius: 6px;
      font-size: 14px;
    }

    button {
      background: #000;
      color: #fff;
      border: none;
      border-radius: 6px;
      padding: 10px 16px;
      cursor: pointer;
      font-size: 15px;
      transition: background 0.2s ease;
    }

    button:hover {
      background: #444;
    }

    .back-link {
      display: inline-block;
      margin-left: 10px;
      color: #000;
      text-decoration: none;
      font-size: 14px;
    }

    .back-link:hover {
      text-decoration: underline;
    }
  </style>
</head>
<body>
<h1>Edit Staff Shift</h1>

<div class="container">
  <div class="card">
    <div th:if="${error}" class="error" th:text="${error}"></div>

    <form th:action="@{/admin/staff_shifts/edit/{id}(id=${staffShift.id})}" method="post">

      <div class="form-row">
        <label>Ngày làm</label>
        <input type="date" name="workDate"
               th:value="${staffShift.workDate != null ? #temporals.format(staffShift.workDate,'yyyy-MM-dd') : ''}"
               required>
      </div>

      <div class="form-row">
        <label>Loại ca</label>
        <select name="shiftId" required>
          <option th:each="sh : ${shifts}"
                  th:value="${sh.id}"
                  th:selected="${staffShift.shift != null and staffShift.shift.id == sh.id}"
                  th:text="${sh.shiftName + ' (' + #temporals.format(sh.startTime,'HH:mm') + '-' + #temporals.format(sh.endTime,'HH:mm') + ')'}">
          </option>
        </select>
      </div>

      <div class="form-row">
        <label>Nhân viên</label>
        <select name="staffId" required>
          <option th:each="st : ${staffs}"
                  th:value="${st.id}"
                  th:selected="${staffShift.staff != null and staffShift.staff.id == st.id}"
                  th:text="${st.name}">
          </option>
        </select>
      </div>

      <div class="form-row">
        <label>Lương/giờ</label>
        <input type="number" name="hourlyWage" min="0" step="1000"
               th:value="${staffShift.hourlyWage}">
      </div>

      <div class="form-row">
        <label>Trạng thái</label>
        <select name="status" required>
          <option th:each="st : ${T(com.group1.swp.pizzario_swp391.entity.StaffShift.Status).values()}"
                  th:value="${st}"
                  th:selected="${staffShift.status != null and staffShift.status.name() == st.name()}"
                  th:text="${st}">
          </option>
        </select>
      </div>

      <button type="submit">Update</button>
      <a class="back-link" th:href="@{/admin/staff_shifts}">⬅ Back to List</a>
    </form>
  </div>
</div>
</body>
</html>
