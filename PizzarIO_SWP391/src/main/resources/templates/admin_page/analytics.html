<!doctype html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Analytics ‚Ä¢ Admin Dashboard</title>
    <link rel="stylesheet" th:href="@{/css/styles.css}">
</head>
<body>
<div class="app">
    <!-- SIDEBAR -->
    <aside class="sidebar">
        <div class="brand">
            <div class="logo">üçï</div>
            <div class="brand-text"><strong>Admin</strong><span>Qu·∫£n l√Ω nh√† h√†ng</span></div>
        </div>
        <nav class="nav">
            <a class="nav-link active" th:href="@{/admin/analytics}">S·ªë li·ªáu ph√¢n t√≠ch</a>
            <a class="nav-link" th:href="@{/admin/products}">S·∫£n ph·∫©m</a>
            <a class="nav-link" th:href="@{/admin/categories}"> Danh m·ª•c</a>
            <a class="nav-link" th:href="@{/admin/vouchers}">Voucher</a>
            <a class="nav-link" th:href="@{/admin/staff}">Nh√¢n vi√™n</a>
            <a class="nav-link" th:href="@{/admin/shifts}">Ca l√†m vi·ªác</a>
            <a class="nav-link" th:href="@{/admin/complaints}"> Khi·∫øu n·∫°i</a>
            <a class="nav-link" th:href="@{/admin/inventory}"> Kho h√†ng</a>
            <a class="nav-link" th:href="@{/admin/settings}">C√†i ƒë·∫∑t</a>
        </nav>

        <form th:action="@{/logout}" method="post">
            <input type="hidden"
                   th:if="${_csrf != null}"
                   th:name="${_csrf.parameterName}"
                   th:value="${_csrf.token}" />
            <button type="submit">Logout</button>
        </form>
    </aside>

    <!-- MAIN -->
    <main class="main">
        <header class="page-header">
            <div>
                <h1>Admin Dashboard</h1>
                <p class="muted">Qu·∫£n l√Ω nh√† h√†ng</p>
            </div>
            <div class="userbox">
                <div class="avatar">M</div>
                <div class="who">
                    <!-- TODO bind: t√™n ng∆∞·ªùi ƒëƒÉng nh·∫≠p -->
                    <strong id="currentUser">‚Äî</strong>
                    <!-- TODO bind: vai tr√≤ -->
                    <span id="currentRole" class="muted">‚Äî</span>
                </div>
            </div>
        </header>

        <section>
            <div style="display:flex; justify-content:space-between; align-items:flex-end; margin:6px 0 14px">
                <div>
                    <h2>S·ªë li·ªáu ph√¢n t√≠ch v·ªÅ k√™nh</h2>
                    <p class="muted">
                        Ch·ªâ s·ªë th·ªùi gian ‚Ä¢
                        <!-- TODO bind: nh√£n kho·∫£ng th·ªùi gian (v√≠ d·ª•: 28 ng√†y qua) -->
                        <span id="rangeLabel">‚Äî</span>
                    </p>
                </div>
            </div>

            <!-- KPI (4 th·∫ª) -->
            <div class="grid four">
                <article class="card">
                    <div class="card-title"> Doanh thu</div>
                    <!-- TODO bind: t·ªïng doanh thu -->
                    <div class="card-value" id="kpiRevenue">‚Äî</div>
                    <!-- TODO bind: % so v·ªõi k·ª≥ tr∆∞·ªõc, th√™m class 'up' ho·∫∑c 'down' -->
                    <div class="trend" id="kpiRevenueDelta">‚Äî</div>
                </article>

                <article class="card">
                    <div class="card-title"> ƒê∆°n h√†ng</div>
                    <!-- TODO bind: t·ªïng ƒë∆°n -->
                    <div class="card-value" id="kpiOrders">‚Äî</div>
                    <!-- TODO bind: % so v·ªõi k·ª≥ tr∆∞·ªõc -->
                    <div class="trend" id="kpiOrdersDelta">‚Äî</div>
                </article>

                <article class="card">
                    <div class="card-title"> Kh√°ch m·ªõi</div>
                    <!-- TODO bind: s·ªë kh√°ch m·ªõi -->
                    <div class="card-value" id="kpiNewCustomers">‚Äî</div>
                    <!-- TODO bind: % so v·ªõi k·ª≥ tr∆∞·ªõc -->
                    <div class="trend" id="kpiNewCustomersDelta">‚Äî</div>
                </article>

                <article class="card">
                    <div class="card-title"> Gi√° tr·ªã TB</div>
                    <!-- TODO bind: AOV -->
                    <div class="card-value" id="kpiAOV">‚Äî</div>
                    <!-- TODO bind: % so v·ªõi k·ª≥ tr∆∞·ªõc -->
                    <div class="trend" id="kpiAOVDelta">‚Äî</div>
                </article>
            </div>

            <div class="main-analytics" style="margin-top:14px">
                <!-- Bi·ªÉu ƒë·ªì ƒë∆∞·ªùng -->
                <article class="card">
                    <div class="card-title">Doanh thu theo ng√†y</div>
                    <!-- TODO bind: data-series(JSON) + data-axis ƒë·ªÉ JS v·∫Ω chart -->
                    <div id="lineChart" class="chart-area" data-series="" data-axis="">
                        <div class="fake-line"></div>
                    </div>
                    <!-- TODO bind: nh√£n tr·ª•c X -->
                    <div class="axis-note muted"><span id="chartXAxisLabel">‚Äî</span></div>
                </article>

                <!-- C·ªôt ph·∫£i -->
                <aside style="display:flex; flex-direction:column; gap:14px">
                    <article class="card">
                        <div class="card-title">Th·ªùi gian th·ª±c</div>
                        <div class="list">
                            <!-- TODO bind: ƒë∆°n h√¥m nay -->
                            <div class="row"><span class="muted">ƒê∆°n h√†ng h√¥m nay</span><strong class="big" id="todayOrders">‚Äî</strong></div>
                            <!-- TODO bind: doanh thu h√¥m nay -->
                            <div class="row"><span class="muted">Doanh thu h√¥m nay</span><strong class="big green" id="todayRevenue">‚Äî</strong></div>
                        </div>
                    </article>

                    <article class="card">
                        <div class="card-title">Xem chi ti·∫øt kh√°ch h√†ng</div>
                        <div class="list">
                            <!-- TODO bind: KH m·ªõi h√¥m nay -->
                            <div class="row"><span class="muted">Kh√°ch h√†ng m·ªõi</span><strong id="todayNewCustomers">‚Äî</strong></div>
                            <!-- TODO bind: KH quay l·∫°i -->
                            <div class="row"><span class="muted">Kh√°ch h√†ng quay l·∫°i</span><strong id="todayReturning">‚Äî</strong></div>
                            <!-- TODO bind: t·ª∑ l·ªá gi·ªØ ch√¢n -->
                            <div class="row"><span class="muted">T·ª∑ l·ªá gi·ªØ ch√¢n</span><strong id="retentionRate">‚Äî</strong></div>
                        </div>
                    </article>

                    <article class="card">
                        <div class="card-title">N·ªôi dung n·ªïi b·∫≠t</div>
                        <!-- TODO bind: top 4 s·∫£n ph·∫©m (name, orders, views) -->
                        <ol class="top-list" id="topProducts">
                            <li><span>‚Äî</span><em>‚Äî</em></li>
                            <li><span>‚Äî</span><em>‚Äî</em></li>
                            <li><span>‚Äî</span><em>‚Äî</em></li>
                            <li><span>‚Äî</span><em>‚Äî</em></li>
                        </ol>
                    </article>
                </aside>
            </div>

            <!-- V√πng d∆∞·ªõi: 3 cards -->
            <div class="grid three" style="margin-top:14px">
                <article class="card">
                    <div class="card-title">Top s·∫£n ph·∫©m b√°n ch·∫°y</div>
                    <!-- TODO bind: b·∫£ng top s·∫£n ph·∫©m -->
                    <table class="table" id="tableTopProducts">
                        <thead><tr><th>S·∫£n ph·∫©m</th><th>ƒê∆°n</th><th>Doanh thu</th></tr></thead>
                        <tbody>
                        <tr><td>‚Äî</td><td>‚Äî</td><td>‚Äî</td></tr>
                        </tbody>
                    </table>
                </article>

                <article class="card">
                    <div class="card-title">Th·ªëng k√™ ƒë∆°n h√†ng</div>
                    <!-- TODO bind: completedRate, cancelRate, avgDeliveryTime -->
                    <ul class="top-list" style="padding-left:18px">
                        <li>T·ª∑ l·ªá ho√†n th√†nh: <strong id="completedRate">‚Äî</strong></li>
                        <li>T·ª∑ l·ªá h·ªßy: <strong id="cancelRate">‚Äî</strong></li>
                        <li>Th·ªùi gian giao TB: <strong id="avgDeliveryTime">‚Äî</strong></li>
                    </ul>
                </article>

                <article class="card">
                    <div class="card-title">Doanh thu 7 ng√†y g·∫ßn nh·∫•t</div>
                    <!-- TODO bind: data-series(JSON) ƒë·ªÉ v·∫Ω chart c·ªôt -->
                    <div id="barChart" class="chart-area bars" data-series="">
                        <div class="fake-bars">
                            <i style="height:20%"></i><i style="height:40%"></i><i style="height:30%"></i>
                            <i style="height:50%"></i><i style="height:35%"></i><i style="height:45%"></i><i style="height:38%"></i>
                        </div>
                    </div>
                </article>
            </div>
        </section>


    </main>
</div>
</body>
</html>
