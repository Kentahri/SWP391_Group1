<div th:fragment="content">
    <h2 class="om-title">Quản lý Orders</h2>
    <div class="om-filter-bar">
        <button class="om-tab active"><span class="om-icon">&#9679;</span> Đang xử lý</button>
        <button class="om-tab"><span class="om-icon">&#x1F374;</span> Tại bàn</button>
        <button class="om-tab"><span class="om-icon">&#x1F3EA;</span> Take away</button>
        <button class="om-tab"><span class="om-icon">&#x2714;</span> Hoàn thành</button>
    </div>
    <div class="order-list">
        <div class="order-card" th:each="order : ${orders}">
            <div class="order-header">
                <span class="order-id" th:text="${order.code}">ORD-XXX</span>
                <span class="badge blue" th:if="${order.priority eq 'NORMAL'}">Bình thường</span>
                <span class="badge orange" th:if="${order.priority eq 'PRIORITY'}">Ưu tiên</span>
                <span class="badge yellow" th:if="${order.status eq 'PROCESSING'}">Đang xử lý</span>
                <span class="badge gray" th:if="${order.status eq 'NEW'}">Mới</span>
                <span class="badge gray" th:if="${order.status eq 'COMPLETED'}">Hoàn thành</span>
                <!-- Bổ sung badge động nếu có trường khác -->
            </div>
            <div class="order-meta">
                <span class="order-table"><i class="fa fa-map-marker-alt"></i>
                    <span th:text="${order.tableName != null ? 'Bàn ' + order.tableName : order.type}">Bàn/Take away</span>
                </span>
                <span class="order-time"><i class="fa fa-clock"></i> <span th:text="${order.timeAgo}">5 phút trước</span></span>
            </div>
            <div class="order-progress">
                <span th:text="${order.totalItems} + ' món'">Số món</span>
                <div class="progress-bar">
                    <div class="progress" th:style="'width:' + ${order.processPercent} + '%'" ></div>
                </div>
                <span><span th:text="${order.completedItems}">1</span>/<span th:text="${order.totalItems}">3</span></span>
            </div>
            <button class="order-detail-btn">Xem chi tiết</button>
        </div>
        <!-- Nếu không có orders, hiện thông báo -->
        <div th:if="${#lists.isEmpty(orders)}">Không có đơn nào.</div>
    </div>
</div>
